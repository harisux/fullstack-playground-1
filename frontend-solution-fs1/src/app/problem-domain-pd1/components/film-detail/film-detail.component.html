<ng-container *ngIf="(formData$ | async) as formData">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Editing a film</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <br>
            <form *ngIf="formData.film" [formGroup]="filmForm" (ngSubmit)="submitFilm()">
                <mat-form-field appearance="outline">
                    <mat-label>Title</mat-label>
                    <input matInput formControlName="title">
                </mat-form-field>
    
                <mat-form-field appearance="outline">
                    <mat-label>Description</mat-label>
                    <textarea matInput formControlName="description"></textarea>
                </mat-form-field>
    
                <mat-form-field appearance="outline">
                    <mat-label>Release year</mat-label>
                    <input matInput type="number" formControlName="release_year">
                </mat-form-field>
    
                <mat-form-field appearance="outline">
                    <mat-label>Language</mat-label>
                    <mat-select formControlName="language_id">
                        <mat-option *ngFor="let lang of formData.languages" [value]="lang.language_id">
                            {{lang.name}}
                        </mat-option>
                    </mat-select> 
                </mat-form-field>
    
                <div class="center">
                    <button mat-button type="submit" [disabled]="!filmForm.valid">Submit</button>
                    <button mat-button type="button" [routerLink]="['../../']">Cancel</button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</ng-container>


